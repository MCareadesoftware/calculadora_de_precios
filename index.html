<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <title>Calculadora</title>
</head>
<body>
    <div class="container">
        <div class="row d-flex align-items-center">
            <table class="table table-hover table-dark text-light">
                <thead>
                    <tr>
                      <th scope="col"></th>
                      <th scope="col" class="text-center">ESET PROTECT ENTRY</th>
                      <th scope="col" class="text-center">ESET PROTECT ADVANCED</th>
                      <th scope="col" class="text-center">ESET PROTECT ADVANCED</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                        <td>Consola</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                    </tr>
                    <tr>
                        <td>Protección moderna para endpoints</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                    </tr>
                    <tr>
                        <td>Seguridad para servidor de archivo</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                    </tr>
                    <tr>
                        <td>Cifrado del disco completo</td>
                        <td class="text-center">X</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                    </tr>
                    <tr>
                        <td>Defensa avanzada contra amenazas</td>
                        <td class="text-center">X</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                    </tr>
                    <tr>
                        <td>Protección de aplicaciones en la nube</td>
                        <td class="text-center">X</td>
                        <td class="text-center">X</td>
                        <td class="text-center">✓</td>
                    </tr>
                    <tr>
                        <td>Seguridad para correo</td>
                        <td class="text-center">X</td>
                        <td class="text-center">X</td>
                        <td class="text-center">✓</td>
                    </tr>
                    <tr>
                        <td>Detección y respuesta</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                        <td class="text-center">✓</td>
                    </tr>
                    <tr>
                        <td>Servicios de seguridad</td>
                        <td class="text-center">+</td>
                        <td class="text-center">+</td>
                        <td class="text-center">+</td>
                    </tr>
                    <!--<tr>
                        <td class="align-middle">Precios</td>
                        <td class="py-4">
                            <div class="row justify-content-center">
                                <button name="data-sub" class="col-1 d-flex justify-content-center btn-secondary">-</button>
                                <input id="count" type="text" class="count col-2 mx-2 text-center border-0 bg-dark text-light" readonly>
                                <button name="data-add" class="col-1 d-flex justify-content-center btn-secondary">+</button>
                            </div>
                            <p class="d-flex justify-content-center">Equipos</p>
                    
                            <div class="d-flex justify-content-center row">
                                <p type="text" class="col-1 border-0 align-middle">S/.</p>
                                <input class="text-center col-3 border-0 bg-dark text-light" type="text" id="result" readonly>
                            </div>
                        </td>
                        <td class="py-4">
                            <div class="row justify-content-center">
                                <button name="data-sub-adv" class="col-1 d-flex justify-content-center btn-secondary">-</button>
                                <input id="count-adv" type="text" class="count-adv col-2 mx-2 text-center border-0 bg-dark text-light" readonly>
                                <button name="data-add-adv" class="col-1 d-flex justify-content-center btn-secondary">+</button>
                            </div>
                            <p class="d-flex justify-content-center">Equipos</p>
                    
                            <div class="d-flex justify-content-center row">
                                <p type="text" class="col-1 border-0 align-middle">S/.</p>
                                <input class="text-center col-3 border-0 d-flex justify-content-center bg-dark text-light" type="text" id="result-adv" readonly>
                            </div>
                        </td>
                        <td></td>
                    </tr>-->
                    
                    <tr>
                        <td class="align-middle">Servicios de seguridad</td>
                        <td class="text-center py-5">
                            <span role="button" class="btn btn-outline-light btn-sm py-2 px-4" name="data-sub">-</span>
                            <span id="count" role="text" class="m-4"></span>
                            <span role="button" class="btn btn-outline-light btn-sm py-2 px-4" name="data-add">+</span> 
                            <div class="d-flex justify-content-center">
                                <span class="m-2">Equipos</span>
                            </div>
                            <div class="d-flex justify-content-center my-2">
                                <span role="text">S/.<span id="result" role="text"></span></span>
                            </div>
                        </td>
                        <td class="text-center py-5">
                            <div class="">
                                <span role="button" class="btn btn-outline-light btn-sm py-2 px-4" name="data-sub-adv">-</span>
                                <span id="count-adv" role="text" class="m-4" ></span>
                                <span role="button" class="btn btn-outline-light btn-sm py-2 px-4" name="data-add-adv">+</span> 
                            </div>
                            <div class="d-flex justify-content-center">
                                <span class="m-2">Equipos</span>
                            </div>
                            <div class="d-flex justify-content-center my-2">
                                <span role="text">S/.<span id="result-adv" role="text"></span></span>
                            </div>
                        </td>
                        <td class="text-center"></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td class="text-center">COTIZAR</td>
                        <td class="text-center">COTIZAR</td>
                        <td class="text-center">COTIZAR</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Constants

        const buttonAdd = document.getElementsByName('data-add')[0];
        const buttonSub = document.getElementsByName('data-sub')[0];

        const buttonAddAdv = document.getElementsByName('data-add-adv')[0];
        const buttonSubAdv = document.getElementsByName('data-sub-adv')[0];

        // Initial variables

        var count = document.getElementById('count');
        var result = document.getElementById('result');
        count.value = 5;
        count.textContent = count.value;
        result.value = (count.value * 18.5).toFixed(2);
        result.textContent = result.value;

        var countAdv = document.getElementById('count-adv');
        var resultAdv = document.getElementById('result-adv');
        countAdv.value = 5;
        countAdv.textContent = countAdv.value;
        resultAdv.value = (countAdv.value * 20.0).toFixed(2);
        resultAdv.textContent = resultAdv.value;

        // Buttons functions

        // Add pc's

        buttonAdd.addEventListener('click', function(){
            calculateAdd();
            refreshPrice();
        });

        function calculateAdd(){
            if (count.value < 50) {
                const previous = parseFloat(count.value);
                count.value = previous + 1;
                count.textContent = count.value;
            }
        }

        buttonAddAdv.addEventListener('click', function(){
            calculateAddAdv();
            refreshPriceAdv();
        });

        function calculateAddAdv(){
            if (countAdv.value < 50) {
                const previous = parseFloat(countAdv.value);
                countAdv.value = previous + 1;
                countAdv.textContent = countAdv.value;
            }
        }

        // Sub pc's

        buttonSub.addEventListener('click', function(){
            calculateSub();
            refreshPrice();
        });

        function calculateSub(){
            if (count.value > 5) {
                const previous = parseFloat(count.value);
                count.value = previous - 1;
                count.textContent = count.value;
            }
        }

        buttonSubAdv.addEventListener('click', function(){
            calculateSubAdv();
            refreshPriceAdv();
        });

        function calculateSubAdv(){
            if (countAdv.value > 5) {
                const previous = parseFloat(countAdv.value);
                countAdv.value = previous - 1;
                countAdv.textContent = countAdv.value;
            }
        }

        // Refresh

        function refreshPrice(){
            const previous = count.value;

            if (previous <= 10){
                result.value = (previous * 18.5).toFixed(2);
                result.textContent = result.value;
            }
            else if (previous >= 11 && previous <= 25){
                result.value = (previous * 15.5).toFixed(2);
                result.textContent = result.value;
            }
            else if (previous >= 26 && previous <= 50){
                result.value = (previous * 13.5).toFixed(2);
                result.textContent = result.value;
            }
            else if (previous == 50){
                result.value = (previous * 12.5).toFixed(2);
                result.textContent = result.value;
            }
        }

        function refreshPriceAdv(){
            const previousAdv = countAdv.value;
            
            if (previousAdv <= 25){
                resultAdv.value = (previousAdv * 20).toFixed(2);
                resultAdv.textContent = resultAdv.value;
            }
            else if (previousAdv >= 26 && previousAdv <= 49){
                resultAdv.value = (previousAdv * 18).toFixed(2);
                resultAdv.textContent = resultAdv.value;
            }
            else if (previousAdv == 50){
                resultAdv.value = (previousAdv * 17).toFixed(2);
                resultAdv.textContent = resultAdv.value;
            }
        }
    </script>
    
</body>
</html>